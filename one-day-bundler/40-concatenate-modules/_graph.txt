Modules:

* src/index.js (ESM) {main}
    - react-bundle.js <- not ESM
    - src/HelloWorld.js <- yep
        - react-bundle.js <- not ESM
        - src/BigText.js <- not all importers
            * src/Lazy.js <- not same chunks
        - (async) src/Lazy.js <- not normal import
x react-bundle.js {main}
x src/HelloWorld.js (ESM) {main}
    - react-bundle.js <- not ESM
    - src/BigText.js <- not all importers
        * src/Lazy.js <- not same chunks
    - (async) src/Lazy.js <- not normal import
x src/BigText.js (ESM) {main}
    - react-bundle.js <- not ESM
x src/Lazy.js (ESM) {async}
    - react-bundle.js <- not ESM
    - src/BigText.js <- not same chunks

===> 

* src/index.js + 1 modules
    # react
    # react-dom
    # ./HelloWorld
    # react
    # ./BigText
    # (async) ./Lazy
    - react-bundle.js
    - src/HelloWorld.js
    - src/BigText.js
    - (async) src/Lazy.js
    + src/index.js (ESM)
    + src/HelloWorld.js (ESM)
* react-bundle.js
* src/BigText.js (ESM)
    # react
    - react-bundle.js
* src/Lazy.js (ESM)
    # react
    # ./BigText
    - react-bundle.js
    - src/BigText.js


Rules:

Root:

* ESM

Child:

* normal import
* same chunks
* all importer must be included
* try all dependencies optionally